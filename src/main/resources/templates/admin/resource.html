<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ê´€ë¦¬ì - ìë£Œì‹¤ ê´€ë¦¬</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .sidebar {
            min-height: 100vh;
            background-color: #343a40;
            color: white;
            width: 250px;
            position: fixed;
            z-index: 100;
        }
        .sidebar a {
            color: #adb5bd;
            text-decoration: none;
            padding: 15px 20px;
            display: block;
            border-bottom: 1px solid #495057;
        }
        .sidebar a:hover,
        .sidebar a.active {
            background-color: #1D7C4D;
            color: white;
        }
        .content {
            margin-left: 250px;
            padding: 30px;
        }
    </style>
</head>
<body>

<!-- ì‚¬ì´ë“œë°” -->
<div class="sidebar">
    <div style="font-size:20px;font-weight:bold;padding:20px;background:#212529;text-align:center;">
        ê´€ë¦¬ì í˜ì´ì§€
    </div>

    <a th:href="@{/admin/page.html(type='intro')}">ì¡°í•© ì†Œê°œ ìˆ˜ì •</a>
    <a th:href="@{/admin/page.html(type='business')}">ì‚¬ì—… ì•ˆë‚´ ìˆ˜ì •</a>
    
    <a th:href="@{/admin/notice.html}">ê³µì§€ì‚¬í•­ ê´€ë¦¬</a>
    <a th:href="@{/admin/resource.html}" class="active">ìë£Œì‹¤ ê´€ë¦¬</a>
    <a th:href="@{/admin/inquiry.html}">ë¬¸ì˜ ê´€ë¦¬</a>

    <a th:href="@{/}" class="mt-5">í™ˆí˜ì´ì§€ ë°”ë¡œê°€ê¸°</a>
    <a th:href="@{/admin/logout}" class="text-danger">ë¡œê·¸ì•„ì›ƒ</a>
</div>

<!-- ë³¸ë¬¸ -->
<div class="content">

    <div class="d-flex justify-content-between align-items-center mb-4 pb-2 border-bottom">
        <h2>ìë£Œì‹¤ ê´€ë¦¬</h2>
        <a th:href="@{/admin/write.html(type='resource')}"
           class="btn btn-primary"
           style="background-color:#1D7C4D;border:none;">
            + ìë£Œ ë“±ë¡
        </a>
    </div>

    <div class="card shadow-sm">
        <div class="card-body p-0">
            <table class="table table-hover mb-0 text-center align-middle">
                <thead class="table-light">
                <tr>
                    <th style="width:60px;">No</th>
                    <th style="width:150px;">ë¶„ë¥˜</th>
                    <th>ì œëª©</th>
                    <th style="width:100px;">ì²¨ë¶€</th>
                    <th style="width:150px;">ë“±ë¡ì¼</th>
                    <th style="width:150px;">ê´€ë¦¬</th>
                </tr>
                </thead>

                <tbody>
                <tr th:each="r : ${resources}">
                    <td th:text="${r.id}">1</td>

                    <td>
                        <span class="badge bg-secondary"
                              th:text="${r.category.label}">
                            ë¶„ë¥˜
                        </span>
                    </td>

                    <td class="text-start">
                        <a class="text-decoration-none text-dark"
                           th:href="@{/admin/view_resource.html(id=${r.id})}"
                           th:text="${r.title}">
                            ì œëª©
                        </a>
                    </td>

                    <td>
                        <a th:if="${r.fileStoredName != null}"
                           th:href="@{/files/{stored}(stored=${r.fileStoredName}, name=${r.fileOriginalName})}">
                            ğŸ’¾
                        </a>
                    </td>

                    <td th:text="${#temporals.format(r.createdAt,'yyyy-MM-dd')}">
                        2025-01-02
                    </td>

                    <td>
                        <a th:href="@{/admin/write.html(type='resource', id=${r.id})}"
                           class="btn btn-sm btn-outline-primary">
                            ìˆ˜ì •
                        </a>

                        <form th:action="@{/admin/delete}"
                              method="post"
                              style="display:inline;">
                            <input type="hidden" name="type" value="resource">
                            <input type="hidden" name="id" th:value="${r.id}">
                            <button type="submit"
                                    class="btn btn-sm btn-outline-danger"
                                    onclick="return confirm('ì‚­ì œí• ê¹Œìš”?');">
                                ì‚­ì œ
                            </button>
                        </form>
                    </td>
                </tr>

                <tr th:if="${#lists.isEmpty(resources)}">
                    <td colspan="6" class="text-center">
                        ë“±ë¡ëœ ìë£Œê°€ ì—†ìŠµë‹ˆë‹¤.
                    </td>
                </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
